# μ΄λ”λ¦¬μ›€μ κΈ°μ΄: Geth CLIλ¥Ό μ΄μ©ν• κ³„μ • μƒμ„±

νƒκ·Έ: Blockchain, Geth, EOA, Keystore
ν”„λ΅μ νΈ: λΈ”λ΅μ²΄μΈ κ°•μ

## π“ λ“¤μ–΄κ°€λ©°: μ™ Gethλ¥Ό μ‚¬μ©ν• κΉ?

μ΄λ”λ¦¬μ›€ λ„¤νΈμ›ν¬μ— μ°Έμ—¬ν•κ³ , λΈ”λ΅μ²΄μΈ λ°μ΄ν„°λ¥Ό μ§μ ‘ λ‹¤λ£¨κΈ° μ„ν•΄μ„λ” **μ΄λ”λ¦¬μ›€ ν΄λΌμ΄μ–ΈνΈ**λΌλ” μ†ν”„νΈμ›¨μ–΄κ°€ ν•„μ”ν•©λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ΄λ”λ¦¬μ›€ λ„¤νΈμ›ν¬μ κ·μΉ™μ„ μ‹¤ν–‰ν•κ³ , λ‹¤λ¥Έ λ…Έλ“μ™€ ν†µμ‹ ν•λ©°, λΈ”λ΅μ²΄μΈμ ν„μ¬ μƒνƒλ¥Ό μ μ§€ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.

**Geth(Go Ethereum)** λ” Go μ–Έμ–΄λ΅ κ°λ°λ κ°€μ¥ λ€ν‘μ μ΄κ³  λ„λ¦¬ μ‚¬μ©λλ” κ³µμ‹ μ΄λ”λ¦¬μ›€ ν΄λΌμ΄μ–ΈνΈμ…λ‹λ‹¤. Gethκ°€ μ κ³µν•λ” CLI(Command-Line Interface) λ„κµ¬λ¥Ό μ‚¬μ©ν•λ©΄, μ°λ¦¬λ” μ΄λ”λ¦¬μ›€μ κ°€μ¥ κΈ°λ³Έμ μΈ κµ¬μ„± μ”μ†μΈ **κ³„μ •(Account)** μ„ μ§μ ‘ μƒμ„±ν•κ³  κ·Έ λ‚΄λ¶€ κµ¬μ΅°λ¥Ό κΉμ΄ μκ² μ΄ν•΄ν•  μ μμµλ‹λ‹¤.

μ΄λ² μ‹¤μµμ—μ„λ” Gethλ¥Ό ν†µν•΄ **μ™Έλ¶€ μ†μ  κ³„μ •(EOA, Externally Owned Account)** μ„ μ§μ ‘ λ§λ“¤κ³ , μ΄ κ³Όμ •μ—μ„ μƒμ„±λλ” **ν‚¤μ¤ν† μ–΄(Keystore) νμΌ**μ„ λ¶„μ„ν•μ—¬ **κ°μΈν‚¤, κ³µκ°ν‚¤, μ£Όμ†** μ‚¬μ΄μ μ•”νΈν•™μ  κ΄€κ³„λ¥Ό λ…ν™•ν νμ•…ν•λ” κ²ƒμ„ λ©ν‘λ΅ ν•©λ‹λ‹¤.

---

## 1. Geth ν΄λΌμ΄μ–ΈνΈ μ„¤μΉ λ° κΈ°λ³Έ λ…λ Ήμ–΄ ν™•μΈ

> β οΈ **μ‚¬μ „ μ¤€λΉ„**: μ‹¤μµμ„ μ§„ν–‰ν•κΈ° μ „μ— κ°μμ μ΄μμ²΄μ μ— λ§λ” Gethλ¥Ό λ―Έλ¦¬ μ„¤μΉν•΄μ•Ό ν•©λ‹λ‹¤. [Geth κ³µμ‹ ν™νμ΄μ§€](https://geth.ethereum.org/docs/install-and-build/installing-geth)λ¥Ό μ°Έκ³ ν•μ—¬ μ„¤μΉλ¥Ό μ™„λ£ν•΄μ£Όμ„Έμ”.

μ„¤μΉκ°€ μ™„λ£λμ—λ‹¤λ©΄, ν„°λ―Έλ„(λ…λ Ή ν”„λ΅¬ν”„νΈ)μ„ μ—΄κ³  λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•μ—¬ Gethκ°€ μ •μƒμ μΌλ΅ μ„¤μΉλμ—λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

```bash
# Geth λ²„μ „ ν™•μΈ
geth version
```

λ²„μ „ μ •λ³΄κ°€ μ •μƒμ μΌλ΅ μ¶λ ¥λλ‹¤λ©΄ μ„¤μΉκ°€ μ„±κ³µν• κ²ƒμ…λ‹λ‹¤. μ΄μ  Gethκ°€ μ κ³µν•λ” λ‹¤μ–‘ν• ν•μ„ λ…λ Ήμ–΄λ“¤μ„ μ‚΄ν΄λ³΄κ² μµλ‹λ‹¤.

```bash
# Geth λ…λ Ήμ–΄ λ„μ›€λ§ λ³΄κΈ°
geth --help
```

`account`, `attach`, `console`, `db`, `dump` λ“± λ‹¤μ–‘ν• λ…λ Ήμ–΄ λ©λ΅μ΄ λ‚νƒ€λ‚©λ‹λ‹¤. μ°λ¦¬λ” μ΄ μ¤‘μ—μ„ κ³„μ • κ΄€λ¦¬λ¥Ό μ„ν• `account` λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•΄ λ³Ό κ²ƒμ…λ‹λ‹¤.

---

## 2. `geth account new` λ…λ Ήμ–΄λ΅ EOA μƒμ„±ν•κΈ°

μ΄μ  Gethλ¥Ό μ‚¬μ©ν•μ—¬ μƒλ΅μ΄ μ΄λ”λ¦¬μ›€ κ³„μ •μ„ μƒμ„±ν•΄ λ³΄κ² μµλ‹λ‹¤. λ‹¤μ λ…λ Ήμ–΄λ¥Ό ν„°λ―Έλ„μ— μ…λ ¥ν•μ„Έμ”.

```bash
# μƒλ΅μ΄ κ³„μ • μƒμ„±
geth account new
```

λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•λ©΄ λ¨Όμ € κ³„μ •μ„ μ•”νΈν™”ν•λ” λ° μ‚¬μ©ν•  λΉ„λ°€λ²νΈλ¥Ό μ…λ ¥ν•λΌλ” λ©”μ‹μ§€κ°€ λ‚νƒ€λ‚©λ‹λ‹¤.

```
Your new account is locked with a password. Please give a password. Do not forget this password.
Password:
Repeat password:
```

> π” **μ¤‘μ”**: μ—¬κΈ°μ„ μ…λ ¥ν•λ” λΉ„λ°€λ²νΈλ” λ§¤μ° μ¤‘μ”ν•©λ‹λ‹¤. μ΄ λΉ„λ°€λ²νΈλ¥Ό μμ–΄λ²„λ¦¬λ©΄ ν•΄λ‹Ή κ³„μ •μ— λ‹¤μ‹λ” μ ‘κ·Όν•  μ μ—†κ² λλ―€λ΅, λ°λ“μ‹ μ•μ „ν• κ³³μ— κΈ°λ΅ν•΄ λ‘μ–΄μ•Ό ν•©λ‹λ‹¤.

λΉ„λ°€λ²νΈλ¥Ό μ…λ ¥ν•κ³  λ‚λ©΄, Gethλ” μƒλ΅μ΄ κ³„μ •μ„ μƒμ„±ν•κ³  λ‹¤μκ³Ό κ°™μ€ μ •λ³΄λ¥Ό μ¶λ ¥ν•©λ‹λ‹¤.

```
INFO [..] Your new key was generated       address=0x...
INFO [..] Please backup your key file      path=/home/user/.ethereum/keystore/UTC--2024-0...--0x...
...
Public address of the key:   0x...
Path of the secret key file: /home/user/.ethereum/keystore/UTC--2024-0...--0x...
```

μ—¬κΈ°μ„ μ£Όλ©ν•΄μ•Ό ν•  μ •λ³΄λ” λ‘ κ°€μ§€μ…λ‹λ‹¤.

-   **Public address of the key**: μ΄κ²ƒμ΄ λ°”λ΅ μ—¬λ¬λ¶„μ μƒλ΅μ΄ μ΄λ”λ¦¬μ›€ **κ³„μ • μ£Όμ†(Address)** μ…λ‹λ‹¤. λ‹¤λ¥Έ μ‚¬λμ—κ² μ΄λ”(ETH)λ‚ ν† ν°μ„ λ°›μ„ λ• μ΄ μ£Όμ†λ¥Ό μ•λ ¤μ£Όλ©΄ λ©λ‹λ‹¤. `0x`λ΅ μ‹μ‘ν•λ” 42μλ¦¬μ 16μ§„μ λ¬Έμμ—΄μ…λ‹λ‹¤.
-   **Path of the secret key file**: κ³„μ •μ ν•µμ‹¬ μ •λ³΄κ°€ λ‹΄κΈ΄ **ν‚¤μ¤ν† μ–΄(Keystore) νμΌ**μ΄ μ €μ¥λ κ²½λ΅μ…λ‹λ‹¤. μ΄ νμΌμ€ λ§¤μ° μ¤‘μ”ν•λ―€λ΅ μ•μ „ν•κ² λ°±μ—…ν•΄μ•Ό ν•©λ‹λ‹¤.

---

## 3. ν‚¤μ¤ν† μ–΄(Keystore) νμΌ λ¶„μ„ν•κΈ°

Gethκ°€ μƒμ„±ν• ν‚¤μ¤ν† μ–΄ νμΌμ€ μ•”νΈν™”λ κ°μΈν‚¤λ¥Ό λ‹΄κ³  μλ” JSON ν•μ‹μ ν…μ¤νΈ νμΌμ…λ‹λ‹¤. νμΌ μ΄λ¦„μ€ λ³΄ν†µ `UTC--`λ΅ μ‹μ‘ν•λ©°, μƒμ„±λ μ‹κ°„κ³Ό κ³„μ • μ£Όμ†λ¥Ό ν¬ν•¨ν•κ³  μμµλ‹λ‹¤.

ν„°λ―Έλ„μ—μ„ `cat`μ΄λ‚ `less` λ…λ Ήμ–΄, λλ” ν…μ¤νΈ νΈμ§‘κΈ°λ¥Ό μ‚¬μ©ν•μ—¬ μ΄ νμΌμ λ‚΄μ©μ„ μ§μ ‘ ν™•μΈν•΄ λ΄…μ‹λ‹¤.

```bash
# ν‚¤μ¤ν† μ–΄ νμΌ λ‚΄μ© ν™•μΈ (νμΌ κ²½λ΅λ” μ„μ—μ„ μ¶λ ¥λ μ‹¤μ  κ²½λ΅λ΅ λ³€κ²½)
cat /home/user/.ethereum/keystore/UTC--2024-0...--0x...
```

νμΌμ„ μ—΄μ–΄λ³΄λ©΄ λ‹¤μκ³Ό κ°™μ€ JSON κµ¬μ΅°λ¥Ό λ³Ό μ μμµλ‹λ‹¤.

```json
{
  "address": "...",
  "crypto": {
    "cipher": "aes-128-ctr",
    "ciphertext": "...",
    "cipherparams": {
      "iv": "..."
    },
    "kdf": "scrypt",
    "kdfparams": {
      "dklen": 32,
      "n": 262144,
      "p": 1,
      "r": 8,
      "salt": "..."
    },
    "mac": "..."
  },
  "id": "...",
  "version": 3
}
```

-   **`address`**: μ΄ ν‚¤μ¤ν† μ–΄ νμΌμ— ν•΄λ‹Ήν•λ” μ΄λ”λ¦¬μ›€ μ£Όμ†μ…λ‹λ‹¤.
-   **`crypto.ciphertext`**: κ°€μ¥ ν•µμ‹¬μ μΈ λ¶€λ¶„μΌλ΅, μ—¬λ¬λ¶„μ **κ°μΈν‚¤(Private Key)λ¥Ό `kdfparams`μ™€ `cipherparams` μ •λ³΄λ¥Ό μ‚¬μ©ν•μ—¬ μ•”νΈν™”ν• κ²°κ³Ό**μ…λ‹λ‹¤.
-   **`crypto.kdf`**: 'Key Derivation Function'μ μ•½μλ΅, μ…λ ¥ν• λΉ„λ°€λ²νΈλ¥Ό μ•”νΈν™” ν‚¤λ΅ λ³€ν™ν•λ” λ° μ‚¬μ©λ μ•κ³ λ¦¬μ¦(μ—¬κΈ°μ„λ” `scrypt`)μ„ μλ―Έν•©λ‹λ‹¤.
-   **`crypto.mac`**: 'Message Authentication Code'μ μ•½μλ΅, μ΄ νμΌμ΄ λ³€μ΅°λμ§€ μ•μ•μμ„ κ²€μ¦ν•λ” λ° μ‚¬μ©λλ” κ°’μ…λ‹λ‹¤.

**ν•µμ‹¬μ€, μ΄ ν‚¤μ¤ν† μ–΄ νμΌ μμ²΄λ” κ°μΈν‚¤κ°€ μ•„λ‹λΌλ” μ μ…λ‹λ‹¤.** μ΄κ²ƒμ€ **κ°μΈν‚¤λ¥Ό λΉ„λ°€λ²νΈλ΅ μ•”νΈν™”ν•μ—¬ μ•μ „ν•κ² λ³΄κ΄€ν•λ” 'κΈκ³ '** μ™€ κ°™μµλ‹λ‹¤. λ”°λΌμ„ μ΄ νμΌμ„ λ‹¤λ¥Έ μ‚¬λμ—κ² μ „μ†΅ν•λ”λΌλ„, μ—¬λ¬λ¶„μ΄ μ„¤μ •ν• λΉ„λ°€λ²νΈλ¥Ό λ¨λ¥΄λ©΄ μ λ€λ΅ μ•μ κ°μΈν‚¤λ¥Ό κΊΌλ‚Ό μ μ—†μµλ‹λ‹¤.

---

## π”‘ κ°μΈν‚¤, κ³µκ°ν‚¤, μ£Όμ†μ κ΄€κ³„ μ •λ¦¬

μ΄λ² μ‹¤μµμ„ ν†µν•΄ μ°λ¦¬λ” μ΄λ”λ¦¬μ›€ κ³„μ •μ ν•µμ‹¬ κµ¬μ„± μ”μ†λ“¤μ΄ μ–΄λ–»κ² μƒμ„±λκ³  μ—°κ²°λλ”μ§€ μ• μ μμµλ‹λ‹¤.

1.  **κ°μΈν‚¤ (Private Key)**
    -   **μƒμ„±**: Gethλ” λ¨Όμ € μ•”νΈν•™μ μΌλ΅ μ•μ „ν• λ‚μ μƒμ„± μ•κ³ λ¦¬μ¦μ„ μ‚¬μ©ν•μ—¬ 256λΉ„νΈ(64μλ¦¬μ 16μ§„μ) κΈΈμ΄μ **κ°μΈν‚¤**λ¥Ό λ§λ“­λ‹λ‹¤. μ΄κ²ƒμ΄ λ¨λ“  κ²ƒμ μ‹μ‘μ΄μ, κ³„μ •μ μ†μ κ¶μ„ μ¦λ…ν•λ” μ μΌν• μ—΄μ‡ μ…λ‹λ‹¤.
    -   **μ—­ν• **: νΈλμ­μ…μ— μ„λ…ν•μ—¬ μμ‚°μ μ΄λ™μ„ μΉμΈν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤. **κ°μΈν‚¤λ” μ λ€λ΅ μ™Έλ¶€μ— λ…Έμ¶λμ–΄μ„λ” μ• λ©λ‹λ‹¤.**

2.  **κ³µκ°ν‚¤ (Public Key)**
    -   **μƒμ„±**: **νƒ€μ›κ³΅μ„  μ•”νΈ(ECDSA)** μ•κ³ λ¦¬μ¦μ„ μ‚¬μ©ν•μ—¬ **κ°μΈν‚¤λ΅λ¶€ν„° κ³µκ°ν‚¤λ¥Ό κ³„μ‚°**ν•΄λƒ…λ‹λ‹¤. μ΄ κ³Όμ •μ€ λ‹¨λ°©ν–¥μΌλ΅, κ³µκ°ν‚¤μ—μ„ κ°μΈν‚¤λ¥Ό μ—­μ‚°ν•λ” κ²ƒμ€ λ¶κ°€λ¥ν•©λ‹λ‹¤.
    -   **μ—­ν• **: νΈλμ­μ… μ„λ…μ΄ ν•΄λ‹Ή κ°μΈν‚¤μ μ†μ μμ— μν•΄ μ΄λ£¨μ–΄μ΅μμ„ κ²€μ¦ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.

3.  **μ£Όμ† (Address)**
    -   **μƒμ„±**: **κ³µκ°ν‚¤μ—μ„ Keccak-256 ν•΄μ‹ μ•κ³ λ¦¬μ¦μ„ ν†µν•΄ ν•΄μ‹κ°’μ„ κ³„μ‚°**ν• λ’¤, μ΄ κ°’μ λ§μ§€λ§‰ 20λ°”μ΄νΈ(40μλ¦¬μ 16μ§„μ)λ¥Ό κ°€μ Έμ™€ μµμΆ…μ μΌλ΅ μ£Όμ†λ¥Ό λ§λ“­λ‹λ‹¤.
    -   **μ—­ν• **: μκΈμ„ μ£Όκ³ λ°›λ” λ° μ‚¬μ©λλ” κ³µκ°λ μ‹λ³„μμ…λ‹λ‹¤. μ€ν–‰μ κ³„μΆλ²νΈμ™€ κ°™μµλ‹λ‹¤.

**κ°μΈν‚¤ β†’ κ³µκ°ν‚¤ β†’ μ£Όμ†** μ κ³Όμ •μ€ λ¨λ‘ λ‹¨λ°©ν–¥μΌλ΅ μ΄λ£¨μ–΄μ§€κΈ° λ•λ¬Έμ—, μ£Όμ†λ‚ κ³µκ°ν‚¤κ°€ λ…Έμ¶λλ”λΌλ„ κ°μΈν‚¤λ” μ•μ „ν•κ² μ μ§€λ©λ‹λ‹¤.

Gethλ” μ΄ λ¨λ“  κ³Όμ •μ„ λ‚΄λ¶€μ μΌλ΅ μ²λ¦¬ν• λ’¤, κ°€μ¥ μ¤‘μ”ν• **κ°μΈν‚¤**λ¥Ό μ—¬λ¬λ¶„μ΄ μ…λ ¥ν• **λΉ„λ°€λ²νΈ**λ΅ μ•”νΈν™”ν•μ—¬ **ν‚¤μ¤ν† μ–΄ νμΌ**μ΄λΌλ” μ•μ „ν• ν•νƒλ΅ μ €μ¥ν•΄ μ¤€ κ²ƒμ…λ‹λ‹¤. μ•μΌλ΅ MetaMaskμ™€ κ°™μ€ μ§€κ°‘μ— μ΄ κ³„μ •μ„ μ‚¬μ©ν•κ³  μ‹¶λ‹¤λ©΄, μ΄ ν‚¤μ¤ν† μ–΄ νμΌκ³Ό λΉ„λ°€λ²νΈλ¥Ό μ΄μ©ν•κ±°λ‚, νμΌμ—μ„ μ¶”μ¶ν• κ°μΈν‚¤λ¥Ό μ§μ ‘ 'κ°€μ Έμ¤κΈ°(Import)'ν•λ©΄ λ©λ‹λ‹¤.
